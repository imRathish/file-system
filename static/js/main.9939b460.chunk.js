(this["webpackJsonpfile-system"]=this["webpackJsonpfile-system"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(11),a=n.n(r),l=n(19),o=n(153),s=n(168),d=n(173),u=n(165),j=n(158),f=n(166),O=n(113),b=n(26),h=n(14),p=n(75),m=n(40),x=function(e,t){return t?btoa("".concat(e,"/").concat(t)):btoa("".concat(e))},v="ROOT",y="FOLDER",g="FILE",D="New folder",F="My Drive",I=n(156),C=n(2),w=Object(o.a)((function(e){return{popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}}));function S(e){var t=w(),n=e.anchor,c=e.handleClose,i=e.file,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1024,c=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(c))+" "+i[r]}(Object(l.c)((function(e){var t=e.fileSystem;return i.filesys_type===g?i.size:0===i.children.length?0:i.children.map((function(e){return t.find((function(t){return t.id===e})).size})).reduce((function(e,t){return e+t}))}))),a=Boolean(n);return Object(C.jsx)("div",{children:Object(C.jsx)(I.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:a,elevation:2,anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:c,keepMounted:!0,disableRestoreFocus:!0,children:Object(C.jsxs)(j.a,{container:!0,direction:"column",spacing:1,children:[Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"caption",children:"Type: ".concat(i.filesys_type===y?"Folder":i.type)})}),Object(C.jsx)(j.a,{item:!0,children:NaN!==r&&Object(C.jsx)(O.a,{variant:"caption",children:"Size: ".concat(r)})}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"caption",children:"Created Date: ".concat(i.createdDate)})})]})})})}var R=n(163),T=n(169),k=n(159),N=n(162),E=n(161),z=n(160);function _(e){var t=e.open,n=e.fileName,c=e.url,r=e.handleClose,a=i.a.useState(null),o=Object(b.a)(a,2),s=o[0],d=o[1],u=i.a.useState(null),j=Object(b.a)(u,2),f=j[0],O=j[1],h=Object(l.c)((function(e){return e.fileSystem.map((function(e){return e.id})).filter((function(e){return"ROOT"!==e}))})),p=function(e){if(e)return m(e)?void O("File/Folder already exists! Give a different name"):(r(e),void O(null));O(null),r()},m=function(e){return h.includes(x(c,e))};return Object(C.jsx)("div",{children:Object(C.jsxs)(k.a,{open:t,onClose:function(){p(null)},"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(z.a,{id:"form-dialog-title",children:"Rename ".concat(n)}),Object(C.jsx)(E.a,{children:Object(C.jsx)(T.a,{autoFocus:!0,error:!!f,helperText:f,margin:"dense",id:"new-file-name",placeholder:"Enter new name",fullWidth:!0,onChange:function(e){d(e.target.value)}})}),Object(C.jsxs)(N.a,{children:[Object(C.jsx)(R.a,{onClick:function(){p(null)},color:"primary",children:"Cancel"}),Object(C.jsx)(R.a,{onClick:function(){p(s)},color:"primary",children:"Rename"})]})]})})}var B="ADD_FOLDER",M="ADD_FILE",Y="DELETE_FOLDER",A="RENAME_FILE",L=function(e,t,n){return{type:Y,fileIds:e,rootDir:t,rootDirId:t===F?"ROOT":x(n)}},P=n(62),X=n.n(P),G=n(164),K=n(86),W=n(170),J=n(63),U=n.n(J),H=Object(o.a)((function(e){return{root:{display:"flex",padding:2,"&:hover":{backgroundColor:"#cde7fe"}}}}));function Z(e){var t=e.file,n=t.id,c=t.name,r=t.filesys_type,a=e.url,o=e.rootdir,s=e.isSelectedFile,d=e.selectedFiles,u=e.updateSelectedFiles,f=i.a.useState(null),v=Object(b.a)(f,2),D=v[0],I=v[1],w=i.a.useState(!1),R=Object(b.a)(w,2),T=R[0],k=R[1],N=Object(l.b)(),E=Object(l.c)((function(e){return e.fileSystem})),z=H(),B=Object(h.g)(),M=i.a.useState({mouseX:null,mouseY:null}),Y=Object(b.a)(M,2),P=Y[0],J=Y[1],Z=function(){J({mouseX:null,mouseY:null})},q=function(){I(null)};return Object(C.jsx)(G.a,{onClickAway:function(e){e.ctrlKey||(I(null),u([]))},children:Object(C.jsxs)("div",{className:z.root,style:{backgroundColor:s?"#cde7fe":null},onContextMenu:function(e){e.preventDefault(),I(null),d.length>0&&!s&&u([]),0===P.mouseX&&0===P.mouseY||J({mouseX:null,mouseY:null}),J({mouseX:e.clientX-2,mouseY:e.clientY-4})},onDoubleClick:function(){r!==g&&B.push("".concat(a,"/").concat(c))},onClick:function(e){e.ctrlKey&&r!==y?u(s?d.filter((function(e){return e!==e})):[].concat(Object(m.a)(d),[n])):I(e.currentTarget)},onMouseLeave:q,children:[Object(C.jsxs)(j.a,{container:!0,direction:"column",alignItems:"center",children:[Object(C.jsxs)(j.a,{item:!0,children:[r===y&&Object(C.jsx)(X.a,{style:{fontSize:100,color:"#F8D775"}}),r===g&&Object(C.jsx)(U.a,{style:{fontSize:100,color:"#7d7d7d"}})]}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(O.a,{align:"center",variant:"caption",children:c})})]}),Object(C.jsxs)(K.a,{keepMounted:!0,open:null!==P.mouseY,onClose:Z,anchorReference:"anchorPosition",anchorPosition:null!==P.mouseY&&null!==P.mouseX?{top:P.mouseY,left:P.mouseX}:void 0,children:[Object(C.jsx)(W.a,{onClick:function(){d.length>0?N(L(d,o,a)):N(L([n],o,a)),Z()},children:"Delete"}),0===d.length&&Object(C.jsx)(W.a,{onClick:function(){k(!0),Z(),I(null)},children:"Rename"}),r!==y&&Object(C.jsx)(W.a,{onClick:function(){if(d.length>0){var e,t=Object(p.a)(d);try{var n=function(){var t=e.value,n=E.find((function(e){return e.id===t}));(c=document.createElement("a")).setAttribute("href","data:".concat(n.filesys_type,";charset=utf-8, ")+encodeURIComponent("Sample")),c.setAttribute("download",n.name),document.body.appendChild(c),c.click(),document.body.removeChild(c)};for(t.s();!(e=t.n()).done;){var c;n()}}catch(i){t.e(i)}finally{t.f()}}},children:"Download"})]}),Object(C.jsx)(S,{anchor:D,handleClose:q,file:e.file}),Object(C.jsx)(_,{open:T,handleClose:function(e){e&&N(function(e,t,n,c,i){return{type:A,oldFileId:e,newFileName:t,rootDirId:n===F?"ROOT":x(i),newFileId:x(i,t),rootDir:n,filesys_type:c}}(n,e,o,r,a)),k(!1),Z(),I(null)},fileName:c,url:a})]})})}var q=n.p+"static/media/addFiles.c855dc81.png";function Q(e){var t=e.rootdir,n=e.url,c=i.a.useState([]),r=Object(b.a)(c,2),a=r[0],o=r[1],s=Object(h.g)(),d=Object(l.c)((function(e){var c=e.fileSystem,i=c.find((function(e){return e.id===(t===F?"ROOT":x(n))}));return i?i.children.map((function(e){return c.find((function(t){return t.id===e}))})):(s.push("/"),[])}));return Object(C.jsx)(C.Fragment,{children:d.length>0?d.map((function(e){var c=a.includes(e.id);return Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(Z,{file:e,rootdir:t,url:n,selectedFiles:a,isSelectedFile:c,updateSelectedFiles:o})})})):Object(C.jsxs)(j.a,{item:!0,container:!0,spacing:2,justify:"center",alignItems:"center",style:{marginTop:"20vh"},direction:"column",children:[Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)("img",{src:q,style:{width:"100%",height:200}})}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"body1",children:"Start uploading files....."})}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"body2",children:"Note: Only meta data of the files are used while uploading and downloading assets. Contents of the assets are not stored"})})]})})}var V=n(81),$=n.n(V),ee=n(82),te=n.n(ee),ne=n(171);function ce(e){var t=e.rootDir,n=e.url,c=Object(l.b)(),r=i.a.useRef(null),a=i.a.useState(null),o=Object(b.a)(a,2),s=o[0],d=o[1],u=Object(l.c)((function(e){return e.fileSystem.map((function(e){return e.id})).filter((function(e){return"ROOT"!==e}))}));return Object(C.jsxs)("div",{children:[Object(C.jsxs)(j.a,{item:!0,container:!0,alignItems:"center",spacing:3,children:[Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(R.a,{size:"small",variant:"text",startIcon:Object(C.jsx)($.a,{style:{color:"#F8D775"}}),onClick:function(){u.includes(x(n,D))?d("".concat(D," already exists")):c(function(e,t){return{type:B,rootDir:e,parentPath:t,rootDirId:e===F?"ROOT":x(t)}}(t,n))},children:"New folder"})}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(R.a,{size:"small",variant:"text",startIcon:Object(C.jsx)(te.a,{style:{color:"green"}}),onClick:function(){r.current.click()},children:"Upload File"})})]}),Object(C.jsx)("input",{id:"upload-file",ref:r,onChange:function(e){var i=Object.values(e.target.files);if(i.length>0){var r=[];i=i.filter((function(e){if(!u.includes(x(n,e.name.split(".")[0])))return!0;r.push(e.name)})),r.length>0&&d("Files exist - "+u.join(", ")),i.length>0&&c(function(e,t,n){return{type:M,files:e,rootDir:t,parentPath:n,rootDirId:t===F?"ROOT":x(n)}}(i,t,n))}},type:"file",hidden:!0}),Object(C.jsx)(ne.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!!s,autoHideDuration:3e3,onClose:function(e,t){"clickaway"!==t&&d(null)},message:s})]})}var ie=n(83),re=n.n(ie),ae=Object(o.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));function le(){var e=ae(),t=Object(h.h)().fileName,n=Object(h.i)(),c=n.url,i=n.isExact,r=Object(h.g)();return Object(C.jsxs)("div",{children:[i&&Object(C.jsx)(u.a,{maxWidth:"lg",className:e.container,children:Object(C.jsxs)(j.a,{container:!0,spacing:5,children:[Object(C.jsxs)(j.a,{item:!0,container:!0,justify:"space-between",children:[Object(C.jsxs)(j.a,{item:!0,container:!0,spacing:3,md:6,alignItems:"center",children:[Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(f.a,{onClick:function(){r.goBack()},children:Object(C.jsx)(re.a,{})})}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"h5",children:t})})]}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(ce,{rootDir:t,url:c})})]}),Object(C.jsx)(j.a,{item:!0,container:!0,spacing:5,children:Object(C.jsx)(Q,{rootdir:t,url:c})})]})}),Object(C.jsx)(h.d,{children:Object(C.jsx)(h.b,{path:"".concat(c,"/:fileName"),children:Object(C.jsx)(le,{})})})]})}var oe=n(167),se=n(84),de=n.n(se),ue=n(85),je=n.n(ue),fe=n(172),Oe=n(70),be=n.n(Oe),he=Object(o.a)((function(e){return{root:{flexGrow:1,maxWidth:400,marginTop:20}}}));function pe(){var e=he(),t=Object(l.c)((function(e){return e.fileSystem})),n=Object(h.g)(),c=function(e){return"ROOT"===e?Object(C.jsx)(be.a,{}):e===g?Object(C.jsx)(U.a,{style:{color:"#7d7d7d"}}):e===y?Object(C.jsx)(X.a,{style:{color:"#F8D775"}}):void 0},i=function(e){e.filesys_type!==y?e.filesys_type!==v&&"ROOT"!==e.parent?n.push(atob(e.parent)):n.push("/"):n.push(atob(e.id))};return Object(C.jsx)("div",{children:Object(C.jsxs)(j.a,{container:!0,direction:"column",spacing:2,children:[Object(C.jsxs)(j.a,{item:!0,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(be.a,{style:{fontSize:40,color:"green"}})}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"h5",children:"Asset Drive"})})]}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(oe.a,{className:e.root,defaultCollapseIcon:Object(C.jsx)(de.a,{}),defaultExpanded:["root"],defaultExpandIcon:Object(C.jsx)(je.a,{}),children:function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ROOT",a=n.find((function(e){return e.id===r}));return Object(C.jsx)(fe.a,{nodeId:a.id,label:Object(C.jsxs)(j.a,{container:!0,spacing:1,alignItems:"center",children:[Object(C.jsx)(j.a,{item:!0,children:c(a.filesys_type)}),Object(C.jsx)(j.a,{item:!0,children:Object(C.jsx)(O.a,{variant:"body2",className:e.labelText,children:a.name})})]}),onClick:function(){i(a)},children:Array.isArray(a.children)?a.children.map((function(e){return t(n,e)})):null},a.id)}(t)})})]})})}var me=Object(o.a)((function(e){return{root:{display:"flex"},drawer:{position:"relative",width:300,padding:20},content:{flexGrow:1,height:"100vh",overflow:"auto"},appBarSpacer:e.mixins.toolbar,container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));var xe=function(){var e=me();return Object(C.jsxs)("div",{className:e.root,children:[Object(C.jsx)(s.a,{}),Object(C.jsx)(d.a,{variant:"permanent",classes:{paper:e.drawer},children:Object(C.jsx)(pe,{})}),Object(C.jsx)("main",{className:e.content,children:Object(C.jsxs)(h.d,{children:[Object(C.jsx)(h.b,{path:"/:fileName",children:Object(C.jsx)(le,{})}),Object(C.jsx)(h.b,{path:"/",children:Object(C.jsx)(h.a,{to:"/My Drive"})})]})})]})},ve=n(65),ye=n(41),ge=[{filesys_type:"ROOT",id:"ROOT",name:F,children:[]}];var De=Object(ve.a)({fileSystem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:var n=D,c=x(t.parentPath,n),i=e.map((function(e){return e.id===t.rootDirId?Object(ye.a)(Object(ye.a)({},e),{},{children:e.children.concat(c)}):e})),r=new Date;return[].concat(Object(m.a)(i),[{filesys_type:y,size:0,id:c,name:n,parent:t.rootDirId,children:[],createdDate:"".concat(r.getDate(),"/").concat(r.getMonth()+1,"/").concat(r.getFullYear())}]);case M:var a=e.map((function(e){if(e.id===t.rootDirId){var n,c=Object.values(t.files);if(0===c.length)return;return Object(ye.a)(Object(ye.a)({},e),{},{size:e.size+c.map((function(e){return e.size})).reduce((function(e,t){return e+t})),children:(n=e.children).concat.apply(n,Object(m.a)(c.map((function(e){return x(t.parentPath,e.name)}))))})}return e})),l=new Date;return[].concat(Object(m.a)(a),Object(m.a)(Object.values(t.files).map((function(e){return{filesys_type:g,id:x(t.parentPath,e.name),parent:t.rootDirId,name:e.name,size:e.size,type:e.type,createdDate:"".concat(l.getDate(),"/").concat(l.getMonth()+1,"/").concat(l.getFullYear())}}))));case Y:var o=e.map((function(e){return e.id===t.rootDirId?Object(ye.a)(Object(ye.a)({},e),{},{children:e.children.filter((function(e){return!t.fileIds.includes(e)}))}):e})).filter((function(e){return!t.fileIds.includes(e.id)&&!t.fileIds.includes(e.parent)}));return o;case A:var s=e.map((function(e){if(e.id===t.oldFileId)if(e.id=t.newFileId,e.filesys_type===g){var n=e.name.split(".")[1];e.name="".concat(t.newFileName,".").concat(n)}else e.name=t.newFileName;return e.id===t.rootDirId&&(e.children=e.children.map((function(e){return e===t.oldFileId?t.newFileId:e}))),t.filesys_type===y&&e.parent===t.oldFileId&&(e.parent=t.newFileId),e}));return s;default:return e}}}),Fe=Object(ve.b)(De),Ie=n(37);a.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(Ie.a,{children:Object(C.jsx)(l.a,{store:Fe,children:Object(C.jsx)(xe,{})})})}),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.9939b460.chunk.js.map